<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login — Agenda</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <main class="card" role="main">
        <h1>Entrar na Agenda</h1>
        <p class="lead">Insira suas credenciais para acessar sua agenda.</p>

        <form id="loginForm" novalidate>
            <label for="email">E‑mail</label>
            <input id="email" name="email" type="email" placeholder="seu@exemplo.com" required autocomplete="username">

            <label for="password">Senha</label>
            <input id="password" name="password" type="password" placeholder="••••••••" required autocomplete="current-password" minlength="6">

            <div class="row">
                <label class="checkbox"><input id="remember" name="remember" type="checkbox"> Lembrar-me</label>
                <a href="#" id="forgot" class="helper">Esqueceu a senha?</a>
            </div>

            <button type="submit" id="submitBtn">Entrar</button>

            <div id="message" role="status" aria-live="polite"></div>
        </form>
       <div class="footer">
            Não tem conta? <a href="cadastro.html" id="register">Criar conta</a>
</div>
    </main>

    <script>
        (function(){
            const form = document.getElementById('loginForm');
            const email = document.getElementById('email');
            const password = document.getElementById('password');
            const submitBtn = document.getElementById('submitBtn');
            const msg = document.getElementById('message');
            const remember = document.getElementById('remember');

            function showMessage(text, isError){
                msg.textContent = text;
                msg.className = isError ? 'error' : 'helper';
            }

            form.addEventListener('submit', function(e){
                e.preventDefault();
                showMessage('', false);

                if(!email.checkValidity()){
                    showMessage('Por favor, informe um e‑mail válido.', true);
                    email.focus();
                    return;
                }
                if(!password.checkValidity()){
                    showMessage('A senha deve ter ao menos 6 caracteres.', true);
                    password.focus();
                    return;
                }

                submitBtn.disabled = true;
                submitBtn.textContent = 'Entrando...';

                // Simula requisição ao servidor (substituir por fetch real)
                setTimeout(function(){
                    submitBtn.disabled = false;
                    submitBtn.textContent = 'Entrar';

                    // Exemplo de validação fictícia: qualquer senha "senha123" funciona
                    if(password.value === 'senha123'){
                        if(remember.checked){
                            localStorage.setItem('agenda_remember', email.value);
                        } else {
                            localStorage.removeItem('agenda_remember');
                        }
                        showMessage('Login bem-sucedido. Redirecionando...', false);
                        window.location.href = 'index.html';
                    } else {
                        showMessage('E‑mail ou senha incorretos.', true);
                        password.value = '';
                        password.focus();
                    }
                }, 900);
            });

            document.addEventListener('DOMContentLoaded', function(){
                const saved = localStorage.getItem('agenda_remember');
                if(saved){
                    email.value = saved;
                    remember.checked = true;
                }
            });

            document.getElementById('forgot').addEventListener('click', function(e){
                e.preventDefault();
                alert('Fluxo de recuperação de senha não implementado.');
            });
        })();
    </script>
</body>
</html>